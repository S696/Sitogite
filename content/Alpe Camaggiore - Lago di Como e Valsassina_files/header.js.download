jQuery(document).ready(function ($) {
  $('#menu-menu-1 > li > a').attr('class','item');

  $( '.menu-item-type-custom > .item' ).append( '<span><i class="fas fa-angle-down"></i></span>' );
  $( '#menu-item-wpml-ls-2-it > .item' ).append( '<span><i class="fas fa-angle-down"></i></span>' );

  $('#menu-menu-2 .sub-menu').addClass('invisible');

  // toggle menu
  $( 'nav .menu-menu-1-container' ).removeClass().addClass('menu-menu-2-container');

  $(window).bind('resize', function () {
    if($(window).width() > 1024) {
      $('.menu-menu-2-container').addClass('invisible');
      $('#menu-menu-2').addClass('invisible');
    } else {
      $('.menu-menu-2-container').removeClass('invisible');
      $('#menu-menu-2').removeClass('invisible');
    }
  });

  $('.toggle-menu').click( function() {
    $('nav').slideToggle();
    $('.fa-bars').toggleClass('fa-times');
  });

  $( '#menu-menu-2 > .menu-item-type-custom > a' ).after( '<span><i class="fas fa-angle-down"></i></span>' );
  $( '#menu-menu-2 > .menu-item-wpml-ls-2-it' ).addClass('flag');
  $( '#menu-menu-2 .flag > a' ).after( '<span><i class="fas fa-angle-down"></i></span>' );

  $( '#menu-menu-2 .menu-item span' ).click( function(){
    $(this).parent().find('.sub-menu').toggleClass('invisible');
  });

  $('.search').click( function(ev) {
    ev.preventDefault();
    $('.searchbar').slideToggle();
  });

  $('.j-select2').each(function(i,e){
    var $e = $(e);
    $e.select2();
    var selectedValues = $e.attr('data-selected').split('---');
    $e.val(selectedValues).trigger('change');
  });


  $('.social a').each(function(i,e){
    var share = $(e).attr('href');
    if(share) {
      share = share.replace('__CURRENT_URL__', window.location.href);
    }
    $(e).attr('href', share);
  });
});
